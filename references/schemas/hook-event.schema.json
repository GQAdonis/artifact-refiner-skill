{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Hook Event",
  "description": "Standardized payload for hook events emitted during the refinement lifecycle",
  "type": "object",
  "required": ["event_type", "artifact_name", "timestamp"],
  "properties": {
    "event_type": {
      "type": "string",
      "enum": [
        "phase_start", "phase_complete",
        "iteration_complete", "refinement_complete",
        "checkpoint_created", "regression_detected",
        "approval_required", "state_finalized"
      ]
    },
    "artifact_name": { "type": "string" },
    "refinement_id": { "type": "string" },
    "artifact_type": { "type": "string" },
    "content_type": { "type": "string" },
    "phase": { "type": ["string", "null"] },
    "iteration": { "type": "integer" },
    "timestamp": { "type": "string", "format": "date-time" },
    "metadata": {
      "type": "object",
      "description": "Event-specific additional data"
    }
  }
}
